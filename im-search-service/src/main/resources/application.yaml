server:
  port: 8085

spring:
  application:
    name: im-search-service
  
  # Nacos服务发现
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
        namespace: public
        group: DEFAULT_GROUP
  
  # Elasticsearch配置
  elasticsearch:
    rest:
      uris: http://localhost:9200
      username: elastic
      password: changeme
    connection-timeout: 30000
    socket-timeout: 30000

# 自定义配置
im:
  search:
    max-result-size: 50
    page-size: 20
    highlight:
      pre-tags: <em>
      post-tags: </em>
    # 索引配置
    indices:
      message:
        name: im_messages
        number-of-shards: 3
        number-of-replicas: 1
      user:
        name: im_users
        number-of-shards: 3
        number-of-replicas: 1
      group:
        name: im_groups
        number-of-shards: 3
        number-of-replicas: 1

# 日志配置
logging:
  level:
    root: INFO
    com.mi.im.search: DEBUG
    org.elasticsearch.client: WARN
  pattern:
    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'
    file: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'